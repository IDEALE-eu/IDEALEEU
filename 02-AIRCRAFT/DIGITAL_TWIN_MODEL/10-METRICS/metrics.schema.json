{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://schema.idealeeu.eu/digitaltwin/metrics/v1",
  "title": "Digital Twin Metrics Schema",
  "description": "Schema for digital twin performance and health metrics",
  "type": "object",
  "required": ["metric_id", "timestamp", "model_id", "metric_type", "value"],
  "properties": {
    "metric_id": {
      "type": "string",
      "description": "Unique metric identifier"
    },
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "Metric collection timestamp"
    },
    "model_id": {
      "type": "string",
      "description": "Associated model identifier"
    },
    "metric_type": {
      "type": "string",
      "enum": [
        "prediction_error",
        "computation_time",
        "memory_usage",
        "throughput",
        "availability",
        "accuracy",
        "drift",
        "residual"
      ]
    },
    "value": {
      "type": "number",
      "description": "Metric value"
    },
    "unit": {
      "type": "string",
      "description": "Unit of measurement"
    },
    "threshold": {
      "type": "object",
      "properties": {
        "warning": {"type": "number"},
        "critical": {"type": "number"}
      }
    },
    "tags": {
      "type": "object",
      "description": "Additional metadata tags",
      "additionalProperties": {"type": "string"}
    }
  }
}
