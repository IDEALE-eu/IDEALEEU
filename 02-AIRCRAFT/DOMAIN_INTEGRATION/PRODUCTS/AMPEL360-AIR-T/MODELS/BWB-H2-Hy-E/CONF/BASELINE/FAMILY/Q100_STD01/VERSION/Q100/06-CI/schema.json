{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "CONF Configuration Schema",
  "description": "Schema for validating BWB-H2-Hy-E configuration files",
  "type": "object",
  "properties": {
    "version": {
      "type": "string",
      "pattern": "^(HEAD|R[0-9]{2})$",
      "description": "Configuration version: HEAD (mutable) or R01-R99 (immutable)"
    },
    "effectivity": {
      "type": "object",
      "properties": {
        "msn_range": {
          "type": "string",
          "pattern": "^[0-9]{4}-[0-9]{4}$",
          "description": "MSN range in format XXXX-YYYY"
        },
        "test_range": {
          "type": "string",
          "pattern": "^(FT|SIM)-[A-Z0-9-]+$",
          "description": "Test article range (FT-XXXX or SIM-XXXX)"
        }
      }
    },
    "config_type": {
      "type": "string",
      "enum": ["BASELINE", "VARIANT", "CUSTOMER", "TEST"],
      "description": "Configuration type"
    },
    "family": {
      "type": "string",
      "pattern": "^Q[0-9]{3}_STD[0-9]{2}$",
      "description": "Aircraft family designation"
    },
    "release_tag": {
      "type": "string",
      "enum": ["PROD", "HOTFIX-YYYYMMDD", "EXP"],
      "description": "Release tag from 02-RELEASE_TAGS"
    }
  },
  "required": ["version", "config_type", "family"]
}
