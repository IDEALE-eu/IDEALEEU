{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://idealeeu.eu/schemas/aircraft/config-set.schema.json",
  "title": "Aircraft Configuration Set",
  "description": "Schema for validating aircraft configuration sets (Q100 version)",
  "type": "object",
  "required": ["config_id", "version_class", "description", "weight", "performance", "cabin", "systems"],
  "properties": {
    "config_id": {
      "type": "string",
      "pattern": "^CFG-[A-Z0-9]+-Q100$",
      "description": "Unique configuration identifier (e.g., CFG-PAX-Q100)"
    },
    "version_class": {
      "type": "string",
      "const": "Q100",
      "description": "Version class designation"
    },
    "description": {
      "type": "string",
      "minLength": 10,
      "description": "Human-readable configuration description"
    },
    "created_at": {
      "type": "string",
      "format": "date-time",
      "description": "Configuration creation timestamp (ISO 8601)"
    },
    "modified_at": {
      "type": "string",
      "format": "date-time",
      "description": "Configuration last modified timestamp (ISO 8601)"
    },
    "weight": {
      "type": "object",
      "required": ["mtow_kg", "mlw_kg", "oew_kg"],
      "properties": {
        "mtow_kg": {
          "type": "number",
          "minimum": 72000,
          "maximum": 76000,
          "description": "Maximum Takeoff Weight (kg)"
        },
        "mlw_kg": {
          "type": "number",
          "minimum": 68000,
          "maximum": 72000,
          "description": "Maximum Landing Weight (kg)"
        },
        "oew_kg": {
          "type": "number",
          "minimum": 42000,
          "maximum": 46000,
          "description": "Operating Empty Weight (kg)"
        },
        "max_payload_kg": {
          "type": "number",
          "minimum": 12000,
          "maximum": 15000,
          "description": "Maximum Payload (kg)"
        }
      }
    },
    "performance": {
      "type": "object",
      "required": ["range_nm", "cruise_speed_mach", "service_ceiling_ft"],
      "properties": {
        "range_nm": {
          "type": "number",
          "minimum": 3200,
          "maximum": 3800,
          "description": "Design range (nautical miles)"
        },
        "cruise_speed_mach": {
          "type": "number",
          "minimum": 0.78,
          "maximum": 0.82,
          "description": "Cruise speed (Mach number)"
        },
        "service_ceiling_ft": {
          "type": "number",
          "minimum": 41000,
          "maximum": 43000,
          "description": "Service ceiling (feet)"
        },
        "takeoff_distance_m": {
          "type": "number",
          "maximum": 2400,
          "description": "Takeoff distance at MTOW, ISA, sea level (meters)"
        },
        "landing_distance_m": {
          "type": "number",
          "maximum": 1800,
          "description": "Landing distance at MLW, ISA, sea level (meters)"
        }
      }
    },
    "cabin": {
      "type": "object",
      "required": ["passenger_capacity", "class_layout"],
      "properties": {
        "passenger_capacity": {
          "type": "integer",
          "minimum": 96,
          "maximum": 110,
          "description": "Total passenger capacity (Q100 range)"
        },
        "class_layout": {
          "type": "string",
          "enum": ["single_class", "dual_class"],
          "description": "Cabin class configuration"
        },
        "business_seats": {
          "type": "integer",
          "minimum": 0,
          "maximum": 20,
          "description": "Number of business class seats"
        },
        "economy_seats": {
          "type": "integer",
          "minimum": 76,
          "maximum": 110,
          "description": "Number of economy class seats"
        },
        "seat_pitch_economy_in": {
          "type": "number",
          "minimum": 28,
          "maximum": 34,
          "description": "Economy seat pitch (inches)"
        },
        "seat_pitch_business_in": {
          "type": "number",
          "minimum": 36,
          "maximum": 42,
          "description": "Business seat pitch (inches)"
        },
        "lavatories": {
          "type": "integer",
          "minimum": 3,
          "maximum": 4,
          "description": "Number of lavatories"
        },
        "galleys": {
          "type": "integer",
          "minimum": 2,
          "maximum": 3,
          "description": "Number of galley positions"
        },
        "cargo_volume_m3": {
          "type": "number",
          "minimum": 22,
          "maximum": 28,
          "description": "Total cargo hold volume (cubic meters)"
        }
      }
    },
    "systems": {
      "type": "object",
      "required": ["ata24_electrical", "ata28_fuel", "ata71_powerplant"],
      "properties": {
        "ata24_electrical": {
          "type": "object",
          "required": ["fuel_cell_power_mw", "battery_capacity_kwh"],
          "properties": {
            "fuel_cell_power_mw": {
              "type": "number",
              "minimum": 1.2,
              "maximum": 1.5,
              "description": "Fuel cell total power (MW)"
            },
            "battery_capacity_kwh": {
              "type": "number",
              "minimum": 150,
              "maximum": 200,
              "description": "Battery backup capacity (kWh)"
            },
            "distribution": {
              "type": "string",
              "enum": ["dual_bus", "triple_bus"],
              "default": "dual_bus"
            }
          }
        },
        "ata28_fuel": {
          "type": "object",
          "required": ["lh2_capacity_kg", "boiloff_management"],
          "properties": {
            "lh2_capacity_kg": {
              "type": "number",
              "minimum": 4500,
              "maximum": 5500,
              "description": "LH2 tank capacity (kg)"
            },
            "boiloff_management": {
              "type": "boolean",
              "const": true,
              "description": "Boil-off management system required"
            },
            "ullage_percent": {
              "type": "number",
              "minimum": 10,
              "maximum": 15,
              "description": "Ullage for thermal expansion (%)"
            }
          }
        },
        "ata32_landing_gear": {
          "type": "object",
          "properties": {
            "main_gear_config": {
              "type": "string",
              "enum": ["dual_wheel_bogie"],
              "default": "dual_wheel_bogie"
            },
            "nose_gear_config": {
              "type": "string",
              "enum": ["dual_wheel_steerable"],
              "default": "dual_wheel_steerable"
            }
          }
        },
        "ata34_navigation": {
          "type": "object",
          "properties": {
            "ahrs_irs": {
              "type": "string",
              "enum": ["dual", "triple"],
              "default": "dual"
            },
            "gnss": {
              "type": "string",
              "enum": ["dual_sbas_gbas"],
              "default": "dual_sbas_gbas"
            },
            "rnp": {
              "type": "number",
              "maximum": 0.3,
              "description": "Required Navigation Performance"
            }
          }
        },
        "ata71_powerplant": {
          "type": "object",
          "required": ["motor_power_kw", "propulsion_type"],
          "properties": {
            "motor_power_kw": {
              "type": "number",
              "minimum": 1200,
              "maximum": 1500,
              "description": "Total electric motor power (kW)"
            },
            "propulsion_type": {
              "type": "string",
              "enum": ["dual_ducted_fans"],
              "default": "dual_ducted_fans"
            },
            "motor_config": {
              "type": "string",
              "pattern": "^2 × [0-9]+-[0-9]+ kW$",
              "description": "Motor configuration (e.g., '2 × 600-750 kW')"
            }
          }
        }
      }
    },
    "certification": {
      "type": "object",
      "properties": {
        "basis": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["CS-25", "FAR-25", "ICAO-Annex-16"]
          },
          "minItems": 1,
          "description": "Certification basis"
        },
        "safety_standards": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["ARP4754A", "ARP4761", "ISO-19880-8", "SAE-J2719"]
          },
          "description": "Applicable safety standards"
        }
      }
    },
    "mod_state": {
      "type": "string",
      "pattern": "^MOD-[A-Z0-9]+$",
      "default": "MOD-BASE",
      "description": "Modification state (e.g., MOD-BASE, MOD-M1)"
    },
    "notes": {
      "type": "string",
      "description": "Additional configuration notes"
    }
  }
}
