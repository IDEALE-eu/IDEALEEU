# Geometry Data Schema - Q100_STD01
# TFA Domain: AAA (Airframes, Aerodynamics, Airworthiness)
# UTCS: utcs://AMPEL360-AIR-T/BWB-H2-Hy-E/Q100_STD01

schema_version: "1.0"
tfa_domain: "AAA"
ata_chapter: ["51", "53", "55", "57"]

# Unit System
units_system: "SI"
units:
  length: "m"
  angle: "rad"
  area: "m²"
  volume: "m³"
  mass: "kg"

# Coordinate System
coordinate_system:
  origin: "Nose tip at fuselage centerline"
  x_axis: "Forward (flight direction)"
  y_axis: "Starboard (right wing)"
  z_axis: "Up (perpendicular to ground)"
  reference: "ISO 1151-1:1988 Flight Dynamics"

# Tolerances
tolerances:
  general: "ISO 2768-mK (medium tolerance class)"
  critical_surfaces:
    aerodynamic: "±0.5 mm"
    structural_interfaces: "±0.2 mm"
  angular: "±0.5°"

# Required Fields
required_fields:
  - component_id
  - cad_file_path
  - material
  - mass_kg
  - center_of_gravity
  - bounding_box
  - surface_area_m2

# Data Format
geometry_definition:
  cad_format: ["STEP AP242", "IGES 5.3", "Parasolid XT"]
  mesh_format: ["STL", "OBJ", "PLY"]
  preference: "STEP AP242 (recommended for PMI)"

# BWB-Specific Parameters
bwb_geometry:
  wing_span_m: 48.5
  wing_span_tolerance_m: ±0.05
  fuselage_length_m: 42.0
  fuselage_length_tolerance_m: ±0.10
  max_chord_m: 12.8
  root_thickness_ratio: 0.18
  tip_thickness_ratio: 0.12
  sweep_deg: 35.0
  sweep_tolerance_deg: ±0.5
  dihedral_deg: 5.0
  twist_distribution: "Elliptical (root to tip)"

# Material Properties
materials:
  - name: "CFRP T800/M21"
    density_kg_m3: 1580
    youngs_modulus_gpa: 135
    poissons_ratio: 0.32
    ultimate_tensile_strength_mpa: 2500
  - name: "Aluminum 7075-T6"
    density_kg_m3: 2810
    youngs_modulus_gpa: 72
    poissons_ratio: 0.33
    ultimate_tensile_strength_mpa: 572
  - name: "Titanium Ti-6Al-4V"
    density_kg_m3: 4430
    youngs_modulus_gpa: 114
    poissons_ratio: 0.34
    ultimate_tensile_strength_mpa: 950

# Quality Checks
validation:
  - check: "No open edges in surface model"
    severity: "error"
  - check: "All surfaces manifold"
    severity: "error"
  - check: "Center of gravity within ±10% of target"
    severity: "warning"
  - check: "Mass within ±5% of allocation"
    severity: "warning"

# Version Control
versioning:
  major_change: "Topology or dimensional change > 1%"
  minor_change: "Surface refinement, tolerance adjustment"
  patch: "Metadata or documentation update"

# Traceability
traceability:
  requirements: "Link to UTCS_THREADS.csv"
  analysis: "FEA results under 03-TRACEABILITY/EVIDENCE/"
  manufacturing: "Drawing package under 00-PROGRAM/MANUFACTURING/"

# Example Data Structure
example:
  component_id: "BWB-WING-PORT-001"
  cad_file_path: "geometry/wing_port_v2.3.step"
  material: "CFRP T800/M21"
  mass_kg: 3200.5
  center_of_gravity: [12.5, -8.3, 1.2]  # [x, y, z] in meters
  bounding_box:
    x_min: 10.0
    x_max: 32.0
    y_min: -24.25
    y_max: 0.0
    z_min: -1.0
    z_max: 3.0
  surface_area_m2: 485.2

# Validation Rules
json_schema:
  type: "object"
  required: ["component_id", "cad_file_path", "material", "mass_kg"]
  properties:
    component_id:
      type: "string"
      pattern: "^BWB-[A-Z]+-[A-Z]+-[0-9]{3}$"
    mass_kg:
      type: "number"
      minimum: 0
    center_of_gravity:
      type: "array"
      items:
        type: "number"
      minItems: 3
      maxItems: 3
