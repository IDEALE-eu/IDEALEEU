# Weights Data Schema - Q100_STD01
# TFA Domain: AAA (Airframes), EEE (Electrical)
# UTCS: utcs://AMPEL360-AIR-T/BWB-H2-Hy-E/Q100_STD01

schema_version: "1.0"
tfa_domain: ["AAA", "EEE"]
ata_chapter: "08"
reference_standard: "ATA-08 Weight and Balance"

# Unit System
units_system: "SI"
units:
  mass: "kg"
  length: "m"
  moment: "kg·m"
  inertia: "kg·m²"

# Coordinate System (same as geometry)
coordinate_system:
  origin: "Nose tip at fuselage centerline"
  x_axis: "Forward (flight direction)"
  y_axis: "Starboard (right wing)"
  z_axis: "Up (perpendicular to ground)"

# Weight Categories
weight_categories:
  - operational_empty_weight:
      includes: ["structure", "propulsion", "systems", "furnishings"]
      excludes: ["crew", "payload", "fuel"]
  - max_takeoff_weight:
      value_kg: 85000
      tolerance_kg: ±500
  - max_landing_weight:
      value_kg: 78000
      tolerance_kg: ±500
  - max_zero_fuel_weight:
      value_kg: 72000
      tolerance_kg: ±400

# Required Fields
required_fields:
  - component_id
  - ata_chapter
  - mass_kg
  - center_of_gravity
  - moment_of_inertia
  - measurement_method
  - confidence_level

# Center of Gravity Requirements
cg_envelope:
  forward_limit_m: 18.5
  aft_limit_m: 22.0
  lateral_tolerance_m: ±0.05
  vertical_range_m: [0.8, 1.5]

# Moment of Inertia
inertia_matrix:
  description: "3×3 symmetric matrix in body-fixed frame"
  units: "kg·m²"
  required_components: ["Ixx", "Iyy", "Izz", "Ixy", "Ixz", "Iyz"]

# Weight Breakdown Structure (WBS)
wbs_structure:
  10_structure:
    - 11_fuselage: "Center body and integration"
    - 12_wings: "Port and starboard wings"
    - 13_empennage: "Vertical stabilizers (if any)"
    - 14_landing_gear: "Main and nose gear"
  20_propulsion:
    - 21_motors: "6× electric ducted fans"
    - 22_fuel_cells: "PEM fuel cell stacks"
    - 23_h2_tanks: "LH₂ storage tanks"
    - 24_thermal_mgmt: "Cooling systems"
  30_systems:
    - 31_electrical: "Power distribution, batteries"
    - 32_avionics: "Flight control computers, sensors"
    - 33_hydraulics: "Actuators, pumps (if any)"
    - 34_environmental: "ECS, pressurization"
  40_furnishings:
    - 41_seats: "Passenger and crew seating"
    - 42_galleys: "Food preparation (if any)"
    - 43_lavatories: "Toilets and sinks"
    - 44_cargo: "Cargo handling equipment"

# Measurement Methods
measurement_methods:
  - method: "CAD_CALCULATED"
    confidence: 0.85
    description: "Mass properties from CAD solid models"
  - method: "PHYSICAL_WEIGHED"
    confidence: 0.99
    description: "Direct measurement on calibrated scale"
  - method: "VENDOR_DATASHEET"
    confidence: 0.90
    description: "Manufacturer-provided specifications"
  - method: "ANALYTICAL_ESTIMATE"
    confidence: 0.70
    description: "Engineering calculation or regression"

# Uncertainty Quantification
uncertainty:
  individual_component: "±3% (95% confidence)"
  total_aircraft: "±1% (95% confidence)"
  cg_position: "±0.05 m (95% confidence)"
  monte_carlo_iterations: 10000

# Validation Checks
validation:
  - check: "Total mass ≤ MTOW"
    severity: "error"
  - check: "CG within envelope"
    severity: "error"
  - check: "Sum of component masses = total mass ± 0.5%"
    severity: "warning"
  - check: "All ATA chapters covered"
    severity: "info"

# Example Entry
example:
  component_id: "BWB-PROPULSION-MOTOR-001"
  ata_chapter: "72"
  tfa_domain: "PPP"
  description: "Electric ducted fan motor #1"
  mass_kg: 285.3
  mass_uncertainty_kg: ±8.5
  center_of_gravity: [25.2, -12.5, 0.8]
  moment_of_inertia:
    Ixx: 45.2
    Iyy: 52.8
    Izz: 48.5
    Ixy: -2.1
    Ixz: 0.5
    Iyz: -1.2
  measurement_method: "PHYSICAL_WEIGHED"
  confidence_level: 0.99
  measured_date: "2025-09-15"
  measured_by: "M. Dubois"

# Traceability
traceability:
  requirements: "Link to weight allocation in 00-CONFIG/QS_STATE.yaml"
  evidence: "Weigh reports under 03-TRACEABILITY/EVIDENCE/"
  baseline: "Tracked in 02-RELEASE_TAGS/BASELINES.csv"

# JSON Schema for Validation
json_schema:
  type: "object"
  required: ["component_id", "ata_chapter", "mass_kg", "center_of_gravity"]
  properties:
    component_id:
      type: "string"
    ata_chapter:
      type: "string"
      pattern: "^[0-9]{2}$"
    mass_kg:
      type: "number"
      minimum: 0
    center_of_gravity:
      type: "array"
      items:
        type: "number"
      minItems: 3
      maxItems: 3
    moment_of_inertia:
      type: "object"
      required: ["Ixx", "Iyy", "Izz"]
      properties:
        Ixx: {type: "number", minimum: 0}
        Iyy: {type: "number", minimum: 0}
        Izz: {type: "number", minimum: 0}
