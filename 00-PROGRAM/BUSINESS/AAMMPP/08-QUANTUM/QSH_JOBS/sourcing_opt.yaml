# Quantum Supercomputing Hunting Job: Sourcing Optimization
# Minimize cost + risk + CO₂ for aerospace component procurement

job:
  id: "QSH-SOURCING-2025-1018"
  type: "sourcing_optimization"
  version: "1.0.0"
  description: "Multi-objective optimization for aerospace component sourcing"
  priority: "normal"
  created: "2025-10-18T10:00:00Z"
  
# Input Parameters
input:
  component:
    part_number: "787-W-SPAR-57-2145"
    description: "Left Wing Main Spar - Boeing 787"
    category: "structural"
    tfa_domain: "AAA"
    criticality: "flight_safety"
    quantity: 2
    required_date: "2026-06-30"
    
  suppliers:
    - id: "ACME_AERO_SPARES"
      location: "Seattle, WA, USA"
      rating: 4.5
      certifications: ["AS9120", "AS9100", "NADCAP"]
      lead_time_days: 90
      base_price_usd: 12450.00
      delivery_reliability: 0.95
      quality_score: 0.92
      co2_per_kg: 2.5
      
    - id: "PREMIUM_AVIATION_PARTS"
      location: "Toulouse, France"
      rating: 4.7
      certifications: ["AS9120", "AS9100", "EASA_21G"]
      lead_time_days: 60
      base_price_usd: 13200.00
      delivery_reliability: 0.98
      quality_score: 0.95
      co2_per_kg: 1.8
      
    - id: "GLOBAL_AEROSPACE_SUPPLY"
      location: "Singapore"
      rating: 4.2
      certifications: ["AS9120", "AS9100"]
      lead_time_days: 120
      base_price_usd: 11800.00
      delivery_reliability: 0.88
      quality_score: 0.89
      co2_per_kg: 4.2
      
  constraints:
    delivery_date_hard: "2026-06-30"
    delivery_date_preferred: "2026-05-31"
    budget_max_usd: 15000.00
    min_supplier_rating: 4.0
    required_certifications: ["AS9120"]
    max_co2_kg: 10.0
    
  optimization_objectives:
    cost:
      weight: 0.40
      minimize: true
      baseline: 12450.00
    risk:
      weight: 0.30
      minimize: true
      factors:
        - delivery_reliability
        - quality_score
        - supplier_rating
    lead_time:
      weight: 0.20
      minimize: true
      baseline: 90
    co2_footprint:
      weight: 0.10
      minimize: true
      baseline: 2.5

# Quantum Algorithm Configuration
quantum:
  algorithm: "QAOA"  # Quantum Approximate Optimization Algorithm
  backend: "ibm_brisbane"  # IBM Quantum processor
  shots: 2048
  optimization_level: 3
  
  # Problem encoding
  encoding:
    type: "multi_objective_combinatorial"
    variables:
      - name: "supplier_selection"
        type: "binary"
        size: 3  # Number of suppliers
      - name: "quantity_allocation"
        type: "integer"
        range: [0, 2]
      - name: "delivery_schedule"
        type: "continuous"
        range: [0, 180]  # Days from now
        
  # Cost function (Hamiltonian)
  hamiltonian:
    # Cost component
    cost_term:
      coefficient: 0.40
      expression: "sum(supplier[i].price * allocation[i])"
      
    # Risk component
    risk_term:
      coefficient: 0.30
      expression: "1 - product(supplier[i].reliability^allocation[i])"
      
    # Lead time component
    lead_time_term:
      coefficient: 0.20
      expression: "max(supplier[i].lead_time * selection[i])"
      
    # CO₂ component
    co2_term:
      coefficient: 0.10
      expression: "sum(supplier[i].co2 * component.weight * allocation[i])"
      
    # Constraint penalties
    penalties:
      - name: "delivery_deadline"
        coefficient: 100.0
        expression: "max(0, lead_time - days_until(required_date))"
      - name: "budget_constraint"
        coefficient: 50.0
        expression: "max(0, total_cost - budget_max)"
      - name: "certification_requirement"
        coefficient: 200.0
        expression: "not has_certification(selected_supplier, required_certs)"
        
  # Classical optimization fallback
  fallback:
    enabled: true
    algorithm: "COBYLA"
    max_iterations: 1000

# Simulation Parameters (for QS state exploration)
simulation:
  enabled: true
  scenarios:
    # Scenario 1: Supply chain disruption
    - name: "supplier_disruption"
      probability: 0.15
      impact:
        ACME_AERO_SPARES:
          lead_time_multiplier: 1.8
          availability: 0.5
          
    # Scenario 2: Price volatility
    - name: "material_price_surge"
      probability: 0.25
      impact:
        all_suppliers:
          price_multiplier: 1.15
          
    # Scenario 3: Quality issue
    - name: "quality_defect"
      probability: 0.08
      impact:
        selected_supplier:
          additional_cost: 2000.00
          delay_days: 30
          
    # Scenario 4: Regulatory change
    - name: "new_certification_required"
      probability: 0.05
      impact:
        suppliers_without_cert:
          ineligible: true
          
  monte_carlo:
    runs: 10000
    confidence_interval: 0.95

# Output Configuration
output:
  format: "json"
  include:
    - optimal_solution
    - pareto_frontier
    - risk_analysis
    - sensitivity_analysis
    - scenario_outcomes
    
  optimal_solution:
    supplier: "string"
    quantity: "integer"
    expected_cost_usd: "number"
    expected_delivery_date: "date"
    total_risk_score: "number"
    co2_footprint_kg: "number"
    confidence: "number"
    
  recommendation:
    primary: "detailed recommendation"
    alternatives: ["alternative 1", "alternative 2"]
    justification: "explanation of selection"
    
  risk_assessment:
    scenarios: ["scenario outcomes"]
    var_95: "value at risk"
    cvar_95: "conditional value at risk"
    worst_case: "worst case analysis"

# Execution Configuration
execution:
  timeout_seconds: 3600  # 1 hour
  retry_policy:
    max_attempts: 3
    backoff: "exponential"
  
  resource_limits:
    max_qubits: 127
    max_circuit_depth: 1000
    max_memory_gb: 16
    
  cost_estimate:
    quantum_runtime_minutes: 45
    cost_per_minute_usd: 1.60
    total_estimated_cost_usd: 72.00

# Notification Configuration
notifications:
  on_completion:
    - recipient: "procurement@example.com"
      include: ["optimal_solution", "recommendation"]
      
    - recipient: "analytics@example.com"
      include: ["full_results"]
      
  on_failure:
    - recipient: "quantum_team@example.com"
      urgency: "high"

# Integration with AAMMPP
aammpp_integration:
  utcs_ref: "UTCS-AAMMPP-AAA-WING-SPAR-787-001@2.0.0"
  update_passport: true
  fields_to_update:
    quantum.qsh_job: "{{ job.id }}"
    quantum.qb_recommendation: "{{ output.recommendation.primary }}"
    quantum.confidence: "{{ output.optimal_solution.confidence }}"
    quantum.optimization_date: "{{ completion_timestamp }}"
    
  trigger_workflows:
    - workflow: "procurement_decision"
      if: "confidence > 0.80"
    - workflow: "manual_review"
      if: "confidence <= 0.80"

# Metadata
metadata:
  tags: ["procurement", "optimization", "multi-objective"]
  classification: "business_critical"
  retention_days: 2555  # 7 years
  audit_required: true

# Version History
version_history:
  - version: "1.0.0"
    date: "2025-10-18"
    author: "Quantum Optimization Team"
    changes: ["Initial implementation"]
