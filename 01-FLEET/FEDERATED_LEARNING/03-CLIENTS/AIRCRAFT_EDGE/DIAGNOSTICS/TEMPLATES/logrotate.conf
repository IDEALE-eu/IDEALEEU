# Logrotate configuration for FL client diagnostics
# Manages log file rotation to prevent disk space issues

/var/fl-client/diagnostics.log {
    daily
    rotate 7
    size 100M
    compress
    delaycompress
    missingok
    notifempty
    create 0640 fl-client fl-client
    sharedscripts
    postrotate
        systemctl reload aircraft-diag.service > /dev/null 2>&1 || true
    endscript
}

/var/fl-client/reports/*.json {
    weekly
    rotate 12
    compress
    delaycompress
    missingok
    notifempty
    create 0640 fl-client fl-client
}

/var/fl-client/logs/*.log {
    daily
    rotate 30
    size 50M
    compress
    delaycompress
    missingok
    notifempty
    create 0640 fl-client fl-client
    sharedscripts
}
